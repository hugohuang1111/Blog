import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,d as a,o}from"./app-CQ2TP62M.js";const n={};function p(d,e){return o(),r("div",null,e[0]||(e[0]=[a('<h2 id="目标" tabindex="-1"><a class="header-anchor" href="#目标"><span>目标</span></a></h2><p>想在 Android 上实现一个定时任务的功能, 比如每天 9:10 定时执行一个任务.</p><h2 id="方案一" tabindex="-1"><a class="header-anchor" href="#方案一"><span>方案一</span></a></h2><p>使用后台任务, 每一分钟执行一次, 每次执行检查一下当前的时间是否为 9:10 - 9:11 之间. 并将应用设置为可后台运行.</p><p>理论上可行, 自己调试的时候也没有什么问题, 但是来了, 如果你的设备是可能长时间静止, 没有其它操作, 那它很有可能会进入休眠, 虽然设置了可后台运行, 但是会发现, Android 为了优化电源使用, 像这种任务, 越到后面系统可能会30分钟才会触发一次. 这样就达不到想要的 9:10 左右就执行一次任务的目的了.</p><p>从运行时触发的日志来看, 如果设备长时间没人操作, 那么五六个小时(从这一次日志来看,不同系统不同时间点这个时间都可能不一样)后, 系统慢慢就不会再保证每一分钟就可以触发一次了. 系统会把所有的定时任务合到一个时间点,一次调用,调用完又会隔一段时间(时间不固定)再次调用.</p><h2 id="方案二" tabindex="-1"><a class="header-anchor" href="#方案二"><span>方案二</span></a></h2><p>使用 <code>AlarmManager.setExactAndAllowWhileIdle</code> (API 23+) 或 <code>AlarmManager.setExact</code> 来作精确的定时任务. 目前还在验证中.</p><hr><p>转自: <a href="http://www.hugohuang.xyz/" target="_blank" rel="noopener noreferrer">HH</a></p>',10)]))}const s=t(n,[["render",p]]),h=JSON.parse('{"path":"/posts/2021-01-25-android-schedule-task.html","title":"Android定时任务实探索","lang":"zh-CN","frontmatter":{"title":"Android定时任务实探索","date":"2021-01-25T00:00:00.000Z","author":"hugo","tag":["Android","Timer","AlarmManger"],"description":"目标 想在 Android 上实现一个定时任务的功能, 比如每天 9:10 定时执行一个任务. 方案一 使用后台任务, 每一分钟执行一次, 每次执行检查一下当前的时间是否为 9:10 - 9:11 之间. 并将应用设置为可后台运行. 理论上可行, 自己调试的时候也没有什么问题, 但是来了, 如果你的设备是可能长时间静止, 没有其它操作, 那它很有可能会...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Android定时任务实探索\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-01-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-21T17:07:42.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"hugo\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/Blog/posts/2021-01-25-android-schedule-task.html"}],["meta",{"property":"og:site_name","content":"HH"}],["meta",{"property":"og:title","content":"Android定时任务实探索"}],["meta",{"property":"og:description","content":"目标 想在 Android 上实现一个定时任务的功能, 比如每天 9:10 定时执行一个任务. 方案一 使用后台任务, 每一分钟执行一次, 每次执行检查一下当前的时间是否为 9:10 - 9:11 之间. 并将应用设置为可后台运行. 理论上可行, 自己调试的时候也没有什么问题, 但是来了, 如果你的设备是可能长时间静止, 没有其它操作, 那它很有可能会..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-21T17:07:42.000Z"}],["meta",{"property":"article:author","content":"hugo"}],["meta",{"property":"article:tag","content":"AlarmManger"}],["meta",{"property":"article:tag","content":"Timer"}],["meta",{"property":"article:tag","content":"Android"}],["meta",{"property":"article:published_time","content":"2021-01-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-21T17:07:42.000Z"}]]},"git":{"createdTime":1750525662000,"updatedTime":1750525662000,"contributors":[{"name":"hugo","username":"hugo","email":"hugohuang1111@gmail.com","commits":1,"url":"https://github.com/hugo"}]},"readingTime":{"minutes":1.29,"words":386},"filePathRelative":"posts/2021-01-25-android-schedule-task.md","excerpt":"<h2>目标</h2>\\n<p>想在 Android 上实现一个定时任务的功能, 比如每天 9:10 定时执行一个任务.</p>\\n<h2>方案一</h2>\\n<p>使用后台任务, 每一分钟执行一次, 每次执行检查一下当前的时间是否为 9:10 - 9:11 之间. 并将应用设置为可后台运行.</p>\\n<p>理论上可行, 自己调试的时候也没有什么问题, 但是来了, 如果你的设备是可能长时间静止, 没有其它操作, 那它很有可能会进入休眠, 虽然设置了可后台运行, 但是会发现, Android 为了优化电源使用, 像这种任务, 越到后面系统可能会30分钟才会触发一次. 这样就达不到想要的  9:10 左右就执行一次任务的目的了.</p>","autoDesc":true}');export{s as comp,h as data};
